import{D as l,G as p,I as c,J as f,K as w,L as d,M as g}from"./chunk-F5AVIJ4I.js";import{Ja as h,a as n,i as s,m as u,q as m,t as o}from"./chunk-IJPQUT22.js";import{f as e}from"./chunk-D7YYRZS5.js";var A=(()=>{let i=class i{constructor(t,r){this.auth=t,this.router=r}get user$(){return new n(t=>{this.auth.onAuthStateChanged(r=>t.next(r))})}login(t){return s(w(this.auth,t.email,t.password)).pipe(u(r=>e(this,null,function*(){return yield c(r.user),r.user})))}register(t){return s(p(this.auth,t.email,t.password).then(r=>e(this,null,function*(){return yield g(r.user,{displayName:t.name}),yield f(r.user),r.user})))}logout(){return e(this,null,function*(){yield d(this.auth),this.router.navigate(["/auth"],{replaceUrl:!0})})}getUserName(t){return t?.displayName||t?.email?.split("@")[0]||"Usuario"}};i.\u0275fac=function(r){return new(r||i)(o(l),o(h))},i.\u0275prov=m({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();export{A as a};
